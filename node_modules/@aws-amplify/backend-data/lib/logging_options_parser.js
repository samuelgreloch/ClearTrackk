import { LogLevelConverter, LogRetentionConverter, } from '@aws-amplify/platform-core/cdk';
const DEFAULT_EXCLUDE_VERBOSE_CONTENT = true;
const DEFAULT_LEVEL = 'none';
const DEFAULT_RETENTION = '1 week';
/**
 * Converts logging options to CDK.
 */
export const convertLoggingOptionsToCDK = (loggingOptions) => {
    if (!loggingOptions) {
        return undefined;
    }
    // Determine if we should apply default configuration
    const shouldApplyDefaultLogging = loggingOptions === true ||
        (typeof loggingOptions === 'object' &&
            Object.keys(loggingOptions).length === 0);
    // Extract fields from the user's loggingOptions (if it's an object)
    const config = typeof loggingOptions === 'object' ? loggingOptions : {};
    const excludeVerboseContent = shouldApplyDefaultLogging
        ? DEFAULT_EXCLUDE_VERBOSE_CONTENT
        : config.excludeVerboseContent ?? DEFAULT_EXCLUDE_VERBOSE_CONTENT;
    // For level and retention, we rely on converters. If config is empty or logging is true, use defaults.
    const dataLogLevel = shouldApplyDefaultLogging
        ? DEFAULT_LEVEL
        : config.fieldLogLevel ?? DEFAULT_LEVEL;
    const logRetention = shouldApplyDefaultLogging
        ? DEFAULT_RETENTION
        : config.retention ?? DEFAULT_RETENTION;
    const fieldLogLevel = new LogLevelConverter().toCDKAppsyncFieldLogLevel(dataLogLevel);
    const retention = new LogRetentionConverter().toCDKRetentionDays(logRetention);
    return {
        excludeVerboseContent,
        fieldLogLevel,
        retention,
    };
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9nZ2luZ19vcHRpb25zX3BhcnNlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9sb2dnaW5nX29wdGlvbnNfcGFyc2VyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNBLE9BQU8sRUFDTCxpQkFBaUIsRUFDakIscUJBQXFCLEdBQ3RCLE1BQU0sZ0NBQWdDLENBQUM7QUFXeEMsTUFBTSwrQkFBK0IsR0FBWSxJQUFJLENBQUM7QUFDdEQsTUFBTSxhQUFhLEdBQWlCLE1BQU0sQ0FBQztBQUMzQyxNQUFNLGlCQUFpQixHQUFpQixRQUFRLENBQUM7QUFFakQ7O0dBRUc7QUFDSCxNQUFNLENBQUMsTUFBTSwwQkFBMEIsR0FBRyxDQUN4QyxjQUE4QyxFQUNmLEVBQUU7SUFDakMsSUFBSSxDQUFDLGNBQWMsRUFBRTtRQUNuQixPQUFPLFNBQVMsQ0FBQztLQUNsQjtJQUVELHFEQUFxRDtJQUNyRCxNQUFNLHlCQUF5QixHQUM3QixjQUFjLEtBQUssSUFBSTtRQUN2QixDQUFDLE9BQU8sY0FBYyxLQUFLLFFBQVE7WUFDakMsTUFBTSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDLENBQUM7SUFFOUMsb0VBQW9FO0lBQ3BFLE1BQU0sTUFBTSxHQUNWLE9BQU8sY0FBYyxLQUFLLFFBQVEsQ0FBQyxDQUFDLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7SUFFM0QsTUFBTSxxQkFBcUIsR0FBRyx5QkFBeUI7UUFDckQsQ0FBQyxDQUFDLCtCQUErQjtRQUNqQyxDQUFDLENBQUMsTUFBTSxDQUFDLHFCQUFxQixJQUFJLCtCQUErQixDQUFDO0lBRXBFLHVHQUF1RztJQUN2RyxNQUFNLFlBQVksR0FBRyx5QkFBeUI7UUFDNUMsQ0FBQyxDQUFDLGFBQWE7UUFDZixDQUFDLENBQUMsTUFBTSxDQUFDLGFBQWEsSUFBSSxhQUFhLENBQUM7SUFFMUMsTUFBTSxZQUFZLEdBQUcseUJBQXlCO1FBQzVDLENBQUMsQ0FBQyxpQkFBaUI7UUFDbkIsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxTQUFTLElBQUksaUJBQWlCLENBQUM7SUFFMUMsTUFBTSxhQUFhLEdBQUcsSUFBSSxpQkFBaUIsRUFBRSxDQUFDLHlCQUF5QixDQUNyRSxZQUFZLENBQ1osQ0FBQztJQUNILE1BQU0sU0FBUyxHQUFHLElBQUkscUJBQXFCLEVBQUUsQ0FBQyxrQkFBa0IsQ0FDOUQsWUFBWSxDQUNaLENBQUM7SUFFSCxPQUFPO1FBQ0wscUJBQXFCO1FBQ3JCLGFBQWE7UUFDYixTQUFTO0tBQ1YsQ0FBQztBQUNKLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERhdGFMb2dMZXZlbCwgRGF0YUxvZ2dpbmdPcHRpb25zIH0gZnJvbSAnLi90eXBlcy5qcyc7XG5pbXBvcnQge1xuICBMb2dMZXZlbENvbnZlcnRlcixcbiAgTG9nUmV0ZW50aW9uQ29udmVydGVyLFxufSBmcm9tICdAYXdzLWFtcGxpZnkvcGxhdGZvcm0tY29yZS9jZGsnO1xuaW1wb3J0IHsgUmV0ZW50aW9uRGF5cyB9IGZyb20gJ2F3cy1jZGstbGliL2F3cy1sb2dzJztcbmltcG9ydCB7IEZpZWxkTG9nTGV2ZWwgfSBmcm9tICdhd3MtY2RrLWxpYi9hd3MtYXBwc3luYyc7XG5pbXBvcnQgeyBMb2dSZXRlbnRpb24gfSBmcm9tICdAYXdzLWFtcGxpZnkvcGx1Z2luLXR5cGVzJztcblxuZXhwb3J0IHR5cGUgQ0RLTG9nZ2luZ09wdGlvbnMgPSB7XG4gIGV4Y2x1ZGVWZXJib3NlQ29udGVudDogYm9vbGVhbjtcbiAgZmllbGRMb2dMZXZlbDogRmllbGRMb2dMZXZlbDtcbiAgcmV0ZW50aW9uOiBSZXRlbnRpb25EYXlzO1xufTtcblxuY29uc3QgREVGQVVMVF9FWENMVURFX1ZFUkJPU0VfQ09OVEVOVDogYm9vbGVhbiA9IHRydWU7XG5jb25zdCBERUZBVUxUX0xFVkVMOiBEYXRhTG9nTGV2ZWwgPSAnbm9uZSc7XG5jb25zdCBERUZBVUxUX1JFVEVOVElPTjogTG9nUmV0ZW50aW9uID0gJzEgd2Vlayc7XG5cbi8qKlxuICogQ29udmVydHMgbG9nZ2luZyBvcHRpb25zIHRvIENESy5cbiAqL1xuZXhwb3J0IGNvbnN0IGNvbnZlcnRMb2dnaW5nT3B0aW9uc1RvQ0RLID0gKFxuICBsb2dnaW5nT3B0aW9uczogRGF0YUxvZ2dpbmdPcHRpb25zIHwgdW5kZWZpbmVkXG4pOiBDREtMb2dnaW5nT3B0aW9ucyB8IHVuZGVmaW5lZCA9PiB7XG4gIGlmICghbG9nZ2luZ09wdGlvbnMpIHtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG5cbiAgLy8gRGV0ZXJtaW5lIGlmIHdlIHNob3VsZCBhcHBseSBkZWZhdWx0IGNvbmZpZ3VyYXRpb25cbiAgY29uc3Qgc2hvdWxkQXBwbHlEZWZhdWx0TG9nZ2luZyA9XG4gICAgbG9nZ2luZ09wdGlvbnMgPT09IHRydWUgfHxcbiAgICAodHlwZW9mIGxvZ2dpbmdPcHRpb25zID09PSAnb2JqZWN0JyAmJlxuICAgICAgT2JqZWN0LmtleXMobG9nZ2luZ09wdGlvbnMpLmxlbmd0aCA9PT0gMCk7XG5cbiAgLy8gRXh0cmFjdCBmaWVsZHMgZnJvbSB0aGUgdXNlcidzIGxvZ2dpbmdPcHRpb25zIChpZiBpdCdzIGFuIG9iamVjdClcbiAgY29uc3QgY29uZmlnOiBEYXRhTG9nZ2luZ09wdGlvbnMgPVxuICAgIHR5cGVvZiBsb2dnaW5nT3B0aW9ucyA9PT0gJ29iamVjdCcgPyBsb2dnaW5nT3B0aW9ucyA6IHt9O1xuXG4gIGNvbnN0IGV4Y2x1ZGVWZXJib3NlQ29udGVudCA9IHNob3VsZEFwcGx5RGVmYXVsdExvZ2dpbmdcbiAgICA/IERFRkFVTFRfRVhDTFVERV9WRVJCT1NFX0NPTlRFTlRcbiAgICA6IGNvbmZpZy5leGNsdWRlVmVyYm9zZUNvbnRlbnQgPz8gREVGQVVMVF9FWENMVURFX1ZFUkJPU0VfQ09OVEVOVDtcblxuICAvLyBGb3IgbGV2ZWwgYW5kIHJldGVudGlvbiwgd2UgcmVseSBvbiBjb252ZXJ0ZXJzLiBJZiBjb25maWcgaXMgZW1wdHkgb3IgbG9nZ2luZyBpcyB0cnVlLCB1c2UgZGVmYXVsdHMuXG4gIGNvbnN0IGRhdGFMb2dMZXZlbCA9IHNob3VsZEFwcGx5RGVmYXVsdExvZ2dpbmdcbiAgICA/IERFRkFVTFRfTEVWRUxcbiAgICA6IGNvbmZpZy5maWVsZExvZ0xldmVsID8/IERFRkFVTFRfTEVWRUw7XG5cbiAgY29uc3QgbG9nUmV0ZW50aW9uID0gc2hvdWxkQXBwbHlEZWZhdWx0TG9nZ2luZ1xuICAgID8gREVGQVVMVF9SRVRFTlRJT05cbiAgICA6IGNvbmZpZy5yZXRlbnRpb24gPz8gREVGQVVMVF9SRVRFTlRJT047XG5cbiAgY29uc3QgZmllbGRMb2dMZXZlbCA9IG5ldyBMb2dMZXZlbENvbnZlcnRlcigpLnRvQ0RLQXBwc3luY0ZpZWxkTG9nTGV2ZWwoXG4gICAgZGF0YUxvZ0xldmVsXG4gICkhO1xuICBjb25zdCByZXRlbnRpb24gPSBuZXcgTG9nUmV0ZW50aW9uQ29udmVydGVyKCkudG9DREtSZXRlbnRpb25EYXlzKFxuICAgIGxvZ1JldGVudGlvblxuICApITtcblxuICByZXR1cm4ge1xuICAgIGV4Y2x1ZGVWZXJib3NlQ29udGVudCxcbiAgICBmaWVsZExvZ0xldmVsLFxuICAgIHJldGVudGlvbixcbiAgfTtcbn07XG4iXX0=