import { AmplifyError, AmplifyFault, AmplifyUserError, } from '@aws-amplify/platform-core';
import stripANSI from 'strip-ansi';
/**
 * Transforms CDK error messages to human readable ones
 */
export class CdkErrorMapper {
    formatter;
    multiLineEolRegex = '[\r\n]+';
    /**
     * Instantiate with a formatter that will be used for formatting CLI commands in error messages
     */
    constructor(formatter) {
        this.formatter = formatter;
    }
    getAmplifyError = (error) => {
        let underlyingError = error;
        // Check if there was an Amplify error thrown during child process execution
        const amplifyError = AmplifyError.fromStderr(error.message);
        if (amplifyError) {
            return amplifyError;
        }
        const errorMessage = stripANSI(error.message);
        const matchingError = this.getKnownErrors().find((knownError) => knownError.errorRegex.test(errorMessage));
        if (matchingError) {
            // Extract meaningful contextual information if available
            const matchGroups = errorMessage.match(matchingError.errorRegex);
            if (matchGroups && matchGroups.length > 1) {
                // If the contextual information can be used in the error message use it, else consider it as a downstream cause
                if (matchGroups.groups) {
                    for (const [key, value] of Object.entries(matchGroups.groups)) {
                        const placeHolder = `{${key}}`;
                        if (matchingError.humanReadableErrorMessage.includes(placeHolder) ||
                            matchingError.resolutionMessage.includes(placeHolder)) {
                            matchingError.humanReadableErrorMessage =
                                matchingError.humanReadableErrorMessage.replace(placeHolder, value);
                            matchingError.resolutionMessage =
                                matchingError.resolutionMessage.replace(placeHolder, value);
                            // reset the stderr dump in the underlying error
                            underlyingError = undefined;
                        }
                    }
                    // remove any trailing EOL
                    matchingError.humanReadableErrorMessage =
                        matchingError.humanReadableErrorMessage.replace(new RegExp(`${this.multiLineEolRegex}$`), '');
                }
                else {
                    underlyingError.message = matchGroups[0];
                }
            }
            return matchingError.classification === 'ERROR'
                ? new AmplifyUserError(matchingError.errorName, {
                    message: matchingError.humanReadableErrorMessage,
                    resolution: matchingError.resolutionMessage,
                }, underlyingError)
                : new AmplifyFault(matchingError.errorName, {
                    message: matchingError.humanReadableErrorMessage,
                    resolution: matchingError.resolutionMessage,
                }, underlyingError);
        }
        return AmplifyError.fromError(error);
    };
    getKnownErrors = () => [
        {
            errorRegex: /ExpiredToken: .*|The security token included in the request is (expired|invalid)/,
            humanReadableErrorMessage: 'The security token included in the request is invalid.',
            resolutionMessage: "Please update your AWS credentials. You can do this by running `aws configure` or by updating your AWS credentials file. If you're using temporary credentials, you may need to obtain new ones.",
            errorName: 'ExpiredTokenError',
            classification: 'ERROR',
        },
        {
            errorRegex: /Access Denied/,
            humanReadableErrorMessage: 'The deployment role does not have sufficient permissions to perform this deployment.',
            resolutionMessage: 'Ensure your deployment role has the AmplifyBackendDeployFullAccess role along with any additional permissions required to deploy your backend definition.',
            errorName: 'AccessDeniedError',
            classification: 'ERROR',
        },
        {
            errorRegex: /(Has the environment been bootstrapped)|(Is account \d+ bootstrapped)|(Is this account bootstrapped)/,
            humanReadableErrorMessage: 'This AWS account and region has not been bootstrapped.',
            resolutionMessage: 'Run `cdk bootstrap aws://{YOUR_ACCOUNT_ID}/{YOUR_REGION}` locally to resolve this.',
            errorName: 'BootstrapNotDetectedError',
            classification: 'ERROR',
        },
        {
            errorRegex: /This CDK deployment requires bootstrap stack version \S+, found \S+\. Please run 'cdk bootstrap'\./,
            humanReadableErrorMessage: 'This AWS account and region has outdated CDK bootstrap stack.',
            resolutionMessage: 'Run `cdk bootstrap aws://{YOUR_ACCOUNT_ID}/{YOUR_REGION}` locally to re-bootstrap.',
            errorName: 'BootstrapOutdatedError',
            classification: 'ERROR',
        },
        {
            errorRegex: /This CDK deployment requires bootstrap stack version \S+, but during the confirmation via SSM parameter \S+ the following error occurred: AccessDeniedException/,
            humanReadableErrorMessage: 'Unable to detect CDK bootstrap stack due to permission issues.',
            resolutionMessage: "Ensure that AWS credentials have an IAM policy that grants read access to 'arn:aws:ssm:*:*:parameter/cdk-bootstrap/*' SSM parameters.",
            errorName: 'BootstrapDetectionError',
            classification: 'ERROR',
        },
        {
            errorRegex: /This CDK CLI is not compatible with the CDK library used by your application\. Please upgrade the CLI to the latest version\./,
            humanReadableErrorMessage: "Installed 'aws-cdk' is not compatible with installed 'aws-cdk-lib'.",
            resolutionMessage: "Make sure that version of 'aws-cdk' is greater or equal to version of 'aws-cdk-lib'",
            errorName: 'CDKVersionMismatchError',
            classification: 'ERROR',
        },
        {
            errorRegex: /Command cdk not found/,
            humanReadableErrorMessage: 'Unable to detect cdk installation',
            resolutionMessage: "Ensure dependencies in your project are installed with your package manager. For example, by running 'yarn install' or 'npm install'",
            errorName: 'CDKNotFoundError',
            classification: 'ERROR',
        },
        {
            errorRegex: /ValidationError: Role (?<roleArn>.*) is invalid or cannot be assumed/,
            humanReadableErrorMessage: 'Role {roleArn} is invalid or cannot be assumed',
            resolutionMessage: 'Ensure the role exists and AWS credentials have an IAM policy that grants sts:AssumeRole for the role',
            errorName: 'InvalidOrCannotAssumeRoleError',
            classification: 'ERROR',
        },
        {
            errorRegex: new RegExp(`(SyntaxError|ReferenceError|TypeError)( \\[[A-Z_]+])?:((?:.|${this.multiLineEolRegex})*?at .*)`),
            humanReadableErrorMessage: 'Unable to build the Amplify backend definition.',
            resolutionMessage: 'Check your backend definition in the `amplify` folder for syntax and type errors.',
            errorName: 'SyntaxError',
            classification: 'ERROR',
        },
        {
            errorRegex: /Unable to resolve AWS account to use/,
            humanReadableErrorMessage: 'Unable to resolve AWS account to use. It must be either configured when you define your CDK Stack, or through the environment',
            resolutionMessage: 'You can retry your last request as this is most likely a transient issue: https://github.com/aws/aws-cdk/issues/24744. If the error persists ensure your local AWS credentials are valid.',
            errorName: 'CDKResolveAWSAccountError',
            classification: 'ERROR',
        },
        {
            errorRegex: /EACCES(.*)/,
            humanReadableErrorMessage: 'File permissions error',
            resolutionMessage: 'Check that you have the right access permissions to the mentioned file',
            errorName: 'FilePermissionsError',
            classification: 'ERROR',
        },
        {
            errorRegex: /EPERM: operation not permitted, rename (?<fileName>(.*)\/synth\.lock\.\S+) â†’ '(.*)\/synth\.lock'/,
            humanReadableErrorMessage: 'Not permitted to rename file: {fileName}',
            resolutionMessage: `Try running the command again and ensure that only one instance of sandbox is running. If it still doesn't work check the permissions of '.amplify' folder`,
            errorName: 'FilePermissionsError',
            classification: 'ERROR',
        },
        {
            errorRegex: /EPERM: operation not permitted, mkdir '(.*).amplify\/artifacts\/cdk.out'/,
            humanReadableErrorMessage: `Not permitted to create the directory '.amplify/artifacts/cdk.out'`,
            resolutionMessage: `Check the permissions of '.amplify' folder and try running the command again`,
            errorName: 'FilePermissionsError',
            classification: 'ERROR',
        },
        {
            errorRegex: /EPERM: operation not permitted, (unlink|open) (?<fileName>(.*)\.lock\S+)/,
            humanReadableErrorMessage: 'Operation not permitted on file: {fileName}',
            resolutionMessage: `Check the permissions of '.amplify' folder and try running the command again`,
            errorName: 'FilePermissionsError',
            classification: 'ERROR',
        },
        {
            errorRegex: new RegExp(`\\[ERR_MODULE_NOT_FOUND\\]:(.*)${this.multiLineEolRegex}|Error: Cannot find module (.*)`),
            humanReadableErrorMessage: 'Cannot find module',
            resolutionMessage: 'Check your backend definition in the `amplify` folder for missing file or package imports. Try installing them with your package manager.',
            errorName: 'ModuleNotFoundError',
            classification: 'ERROR',
        },
        {
            // Truncate the cdk error message's second line (Invoke the CLI in sequence, or use '--output' to synth into different directories.)
            errorRegex: /Another CLI (.*) is currently(.*)\. |Other CLIs (.*) are currently reading from(.*)\. /,
            humanReadableErrorMessage: 'Multiple sandbox instances detected.',
            resolutionMessage: 'Make sure only one instance of sandbox is running for this project',
            errorName: 'MultipleSandboxInstancesError',
            classification: 'ERROR',
        },
        {
            errorRegex: /InvalidParameterValueException:(.*) (size must be smaller than|exceeds the maximum allowed size of) (?<maxSize>\d+) bytes/,
            humanReadableErrorMessage: 'Maximum Lambda size exceeded',
            resolutionMessage: 'Make sure your Lambda bundled packages with layers and dependencies is smaller than {maxSize} bytes unzipped.',
            errorName: 'LambdaMaxSizeExceededError',
            classification: 'ERROR',
        },
        {
            errorRegex: /InvalidParameterValueException: Uploaded file must be a non-empty zip/,
            humanReadableErrorMessage: 'Lambda bundled into an empty zip',
            resolutionMessage: `Try removing '.amplify/artifacts' then running the command again. If it still doesn't work, see https://github.com/aws/aws-cdk/issues/18459 for more methods.`,
            errorName: 'LambdaEmptyZipFault',
            classification: 'FAULT',
        },
        {
            errorRegex: /User:(.*) is not authorized to perform: lambda:GetLayerVersion on resource:(.*) because no resource-based policy allows the lambda:GetLayerVersion action/,
            humanReadableErrorMessage: 'Unable to get Lambda layer version',
            resolutionMessage: 'Make sure layer ARNs are correct and layer regions match function region',
            errorName: 'GetLambdaLayerVersionError',
            classification: 'ERROR',
        },
        {
            //This has some overlap with "User:__ is not authorized to perform:__ on resource: __" - some resources cannot be deleted due to lack of permissions
            errorRegex: /The stack named (?<stackName>.*) is in a failed state. You may need to delete it from the AWS console : DELETE_FAILED \(The following resource\(s\) failed to delete: (?<resources>.*). \)/,
            humanReadableErrorMessage: 'The CloudFormation deletion failed due to {stackName} being in DELETE_FAILED state. Ensure all your resources are able to be deleted',
            resolutionMessage: 'The following resource(s) failed to delete: {resources}. Check the error message for more details and ensure your resources are in a state where they can be deleted. Check the CloudFormation AWS Console for this stack to find additional information.',
            errorName: 'CloudFormationDeletionError',
            classification: 'ERROR',
        },
        {
            errorRegex: /User:(.*) is not authorized to perform:(.*) on resource:(?<resource>.*) because no identity-based policy allows the (?<action>.*) action/,
            humanReadableErrorMessage: 'Unable to deploy due to insufficient permissions',
            resolutionMessage: 'Ensure you have permissions to call {action} for {resource}',
            errorName: 'AccessDeniedError',
            classification: 'ERROR',
        },
        {
            errorRegex: /User:(.*) is not authorized to perform:(?<action>.*) on resource:(?<resource>.*)/,
            humanReadableErrorMessage: 'Unable to deploy due to insufficient permissions',
            resolutionMessage: 'Ensure you have permissions to call {action} for {resource}',
            errorName: 'AccessDeniedError',
            classification: 'ERROR',
        },
        {
            // Also extracts the first line in the stack where the error happened
            errorRegex: new RegExp(`\\[esbuild Error\\]: ((?:.|${this.multiLineEolRegex})*?at .*)`),
            humanReadableErrorMessage: 'Unable to build the Amplify backend definition.',
            resolutionMessage: 'Check your backend definition in the `amplify` folder for syntax and type errors.',
            errorName: 'ESBuildError',
            classification: 'ERROR',
        },
        {
            // Also extracts the first line in the stack where the error happened
            errorRegex: new RegExp(`[âœ˜X] \\[ERROR\\] ((?:.|${this.multiLineEolRegex})*error.*)`),
            humanReadableErrorMessage: 'Unable to build the Amplify backend definition.',
            resolutionMessage: 'Check your backend definition in the `amplify` folder for syntax and type errors.',
            errorName: 'ESBuildError',
            classification: 'ERROR',
        },
        {
            // If there are multiple errors, capture all lines containing the errors
            errorRegex: new RegExp(`(\\[TransformError\\]|Error): Transform failed with .* error(s?):${this.multiLineEolRegex}(?<esBuildErrorMessage>(.*ERROR:.*${this.multiLineEolRegex})+)`),
            humanReadableErrorMessage: '{esBuildErrorMessage}',
            resolutionMessage: 'Fix the above mentioned type or syntax error in your backend definition.',
            errorName: 'ESBuildError',
            classification: 'ERROR',
        },
        {
            // Captures other forms of transform error
            errorRegex: new RegExp(`Error \\[TransformError\\]:(${this.multiLineEolRegex}|\\s)?(?<esBuildErrorMessage>(.*(${this.multiLineEolRegex})?)+)`),
            humanReadableErrorMessage: '{esBuildErrorMessage}',
            resolutionMessage: 'Make sure esbuild is installed and is compatible with the platform you are currently using.',
            errorName: 'ESBuildError',
            classification: 'ERROR',
        },
        {
            errorRegex: /Amplify Backend not found in/,
            humanReadableErrorMessage: 'Backend definition could not be found in amplify directory.',
            resolutionMessage: 'Ensure that the amplify/backend.(ts|js) file exists',
            errorName: 'FileConventionError',
            classification: 'ERROR',
        },
        {
            errorRegex: /Amplify (.*) must be defined in (.*)/,
            humanReadableErrorMessage: 'File name or path for backend definition are incorrect.',
            resolutionMessage: 'Ensure that the amplify/backend.(ts|js) file exists',
            errorName: 'FileConventionError',
            classification: 'ERROR',
        },
        {
            errorRegex: /Updates are not allowed for property/,
            humanReadableErrorMessage: 'The changes that you are trying to apply are not supported.',
            resolutionMessage: 'The resources referenced in the error message must be deleted and recreated to apply the changes.',
            errorName: 'CFNUpdateNotSupportedError',
            classification: 'ERROR',
        },
        {
            // This error originates from Cognito service when user tries to change UserPool attributes which is not allowed
            // https://docs.aws.amazon.com/cognito/latest/developerguide/user-pool-settings-attributes.html
            // Remapping to `UpdateNotSupported` will allow sandbox to prompt users for resetting their environment
            errorRegex: /Invalid AttributeDataType input, consider using the provided AttributeDataType enum/,
            humanReadableErrorMessage: 'User pool attributes cannot be changed after a user pool has been created.',
            resolutionMessage: 'To change these attributes, remove `defineAuth` from your backend, deploy, then add it back. Note that removing `defineAuth` and deploying will delete any users stored in your UserPool.',
            errorName: 'CFNUpdateNotSupportedError',
            classification: 'ERROR',
        },
        {
            errorRegex: new RegExp(`npm error code EJSONPARSE${this.multiLineEolRegex}npm error path (?<filePath>.*/package\\.json)${this.multiLineEolRegex}(npm error (.*)${this.multiLineEolRegex})*`),
            humanReadableErrorMessage: 'The {filePath} is not a valid JSON.',
            resolutionMessage: `Check package.json file and make sure it is a valid JSON.`,
            errorName: 'InvalidPackageJsonError',
            classification: 'ERROR',
        },
        {
            errorRegex: new RegExp(`(?<npmError>(npm error|npm ERR!) code ENOENT${this.multiLineEolRegex}((npm error|npm ERR!) (.*)${this.multiLineEolRegex})*)`),
            humanReadableErrorMessage: 'NPM error occurred: {npmError}',
            resolutionMessage: `See https://docs.npmjs.com/common-errors for resolution.`,
            errorName: 'CommonNPMError',
            classification: 'ERROR',
        },
        {
            // Error: .* is printed to stderr during cdk synth
            // Also extracts the first line in the stack where the error happened
            errorRegex: new RegExp(`^Error: (.*${this.multiLineEolRegex}.*at.*)`, 'm'),
            humanReadableErrorMessage: 'Unable to build the Amplify backend definition.',
            resolutionMessage: 'Check your backend definition in the `amplify` folder for syntax and type errors.',
            errorName: 'BackendSynthError',
            classification: 'ERROR',
        },
        {
            // This happens when 'defineBackend' call is missing in customer's app.
            // 'defineBackend' creates CDK app in memory. If it's missing then no cdk.App exists in memory and nothing is rendered.
            // During 'cdk synth' CDK CLI attempts to read CDK assembly after calling customer's app.
            // But no files are rendered causing it to fail.
            errorRegex: /ENOENT: no such file or directory, open '\.amplify.artifacts.cdk\.out.manifest\.json'/,
            humanReadableErrorMessage: 'The Amplify backend definition is missing `defineBackend` call.',
            resolutionMessage: 'Check your backend definition in the `amplify` folder. Ensure that `amplify/backend.ts` contains `defineBackend` call.',
            errorName: 'MissingDefineBackendError',
            classification: 'ERROR',
        },
        {
            // "Catch all": the backend entry point file is referenced in the stack indicating a problem in customer code
            errorRegex: /amplify\/backend/,
            humanReadableErrorMessage: 'Unable to build Amplify backend.',
            resolutionMessage: 'Check your backend definition in the `amplify` folder for syntax and type errors.',
            errorName: 'BackendBuildError',
            classification: 'ERROR',
        },
        {
            // We capture the parameter name to show relevant error message
            errorRegex: /Failed to retrieve backend secret (?<secretName>.*) for.*ParameterNotFound/,
            humanReadableErrorMessage: `The secret {secretName} specified in the backend does not exist.`,
            resolutionMessage: `Create secrets using the command ${this.formatter.normalizeAmpxCommand('sandbox secret set')}. For more information, see https://docs.amplify.aws/gen2/deploy-and-host/sandbox-environments/features/#set-secrets`,
            errorName: 'SecretNotSetError',
            classification: 'ERROR',
        },
        {
            errorRegex: /BadRequestException: The code contains one or more errors|The code contains one or more errors.*AppSync/,
            humanReadableErrorMessage: `A custom resolver used in your defineData contains one or more errors`,
            resolutionMessage: `Check for any syntax errors in your custom resolvers code.`,
            errorName: 'AppSyncResolverSyntaxError',
            classification: 'ERROR',
        },
        {
            errorRegex: new RegExp(`amplify-.*-(branch|sandbox)-.*fail: (?<publishFailure>.*)${this.multiLineEolRegex}.*Failed to publish asset`, 'm'),
            humanReadableErrorMessage: `CDK failed to publish assets due to '{publishFailure}'`,
            resolutionMessage: `Check the error message for more details.`,
            errorName: 'CDKAssetPublishError',
            classification: 'ERROR',
        },
        {
            // We capture the parameter name to show relevant error message
            errorRegex: /destroy failed Error: Stack \[(?<stackArn>.*)\] cannot be deleted while in status /,
            humanReadableErrorMessage: `Backend failed to be deleted since the previous deployment is still in progress.`,
            resolutionMessage: `Wait for the previous deployment for stack {stackArn} to be completed before attempting to delete again.`,
            errorName: 'DeleteFailedWhileDeploymentInProgressError',
            classification: 'ERROR',
        },
        // Generic error printed by CDK. Order matters so keep this towards the bottom of this list
        {
            // Error: .* is printed to stderr during cdk synth
            // Also extracts the first line in the stack where the error happened
            errorRegex: new RegExp(`^Error: (.*${this.multiLineEolRegex}.*at.*)`, 'm'),
            humanReadableErrorMessage: 'Unable to build the Amplify backend definition.',
            resolutionMessage: 'Check your backend definition in the `amplify` folder for syntax and type errors.',
            errorName: 'BackendSynthError',
            classification: 'ERROR',
        },
        {
            // This error pattern is observed when circular dependency is between stacks but not resources in a stack
            errorRegex: /ValidationError: Circular dependency between resources: \[(?<resources>.*)\]/,
            humanReadableErrorMessage: 'The CloudFormation deployment failed due to circular dependency found between nested stacks [{resources}]',
            resolutionMessage: `If you are using functions then you can assign them to existing nested stacks that are dependent on functions or functions depend on them, for example:
1. If your function is defined as auth triggers, you should assign this function to auth stack.
2. If your function is used as data resolver or calls data API, you should assign this function to data stack.
To assign a function to a different stack, use the property 'resourceGroupName' in the defineFunction call and choose auth, data or any custom stack.

If your circular dependency issue is not resolved with this workaround, please create an issue here https://github.com/aws-amplify/amplify-backend/issues/new/choose
`,
            errorName: 'CloudformationStackCircularDependencyError',
            classification: 'ERROR',
        },
        {
            // This error pattern is observed when circular dependency is between resources in a single stack, i.e. ValidationError is absent from the error message
            errorRegex: /(?<!ValidationError: )Circular dependency between resources: \[(?<resources>.*)\]/,
            humanReadableErrorMessage: 'The CloudFormation deployment failed due to circular dependency found between resources [{resources}] in a single stack',
            resolutionMessage: `If you are creating custom stacks or adding new CDK resources to amplify stacks, ensure that there are no cyclic dependencies. For more details see: https://aws.amazon.com/blogs/infrastructure-and-automation/handling-circular-dependency-errors-in-aws-cloudformation/`,
            errorName: 'CloudformationResourceCircularDependencyError',
            classification: 'ERROR',
        },
        {
            errorRegex: /(?<stackName>amplify-[a-z0-9-]+)(.*) failed: ValidationError: Stack:(.*) is in (?<state>.*) state and can not be updated/,
            humanReadableErrorMessage: 'The CloudFormation deployment failed due to {stackName} being in {state} state.',
            resolutionMessage: 'Find more information in the CloudFormation AWS Console for this stack.',
            errorName: 'CloudFormationDeploymentError',
            classification: 'ERROR',
        },
        {
            // Note that the order matters, this should be the last as it captures generic CFN error
            errorRegex: new RegExp(`Deployment failed: (.*)${this.multiLineEolRegex}|The stack named (.*) failed (to deploy:|creation,) (.*)`),
            humanReadableErrorMessage: 'The CloudFormation deployment has failed.',
            resolutionMessage: 'Find more information in the CloudFormation AWS Console for this stack.',
            errorName: 'CloudFormationDeploymentError',
            classification: 'ERROR',
        },
    ];
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2RrX2Vycm9yX21hcHBlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uL3NyYy9jZGtfZXJyb3JfbWFwcGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFDTCxZQUFZLEVBRVosWUFBWSxFQUNaLGdCQUFnQixHQUNqQixNQUFNLDRCQUE0QixDQUFDO0FBQ3BDLE9BQU8sU0FBUyxNQUFNLFlBQVksQ0FBQztBQUduQzs7R0FFRztBQUNILE1BQU0sT0FBTyxjQUFjO0lBS0k7SUFKckIsaUJBQWlCLEdBQUcsU0FBUyxDQUFDO0lBQ3RDOztPQUVHO0lBQ0gsWUFBNkIsU0FBeUM7UUFBekMsY0FBUyxHQUFULFNBQVMsQ0FBZ0M7SUFBRyxDQUFDO0lBRTFFLGVBQWUsR0FBRyxDQUNoQixLQUFZLEVBQytCLEVBQUU7UUFDN0MsSUFBSSxlQUFlLEdBQXNCLEtBQUssQ0FBQztRQUUvQyw0RUFBNEU7UUFDNUUsTUFBTSxZQUFZLEdBQUcsWUFBWSxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDNUQsSUFBSSxZQUFZLEVBQUU7WUFDaEIsT0FBTyxZQUFZLENBQUM7U0FDckI7UUFFRCxNQUFNLFlBQVksR0FBRyxTQUFTLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDO1FBQzlDLE1BQU0sYUFBYSxHQUFHLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxVQUFVLEVBQUUsRUFBRSxDQUM5RCxVQUFVLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FDekMsQ0FBQztRQUVGLElBQUksYUFBYSxFQUFFO1lBQ2pCLHlEQUF5RDtZQUN6RCxNQUFNLFdBQVcsR0FBRyxZQUFZLENBQUMsS0FBSyxDQUFDLGFBQWEsQ0FBQyxVQUFVLENBQUMsQ0FBQztZQUVqRSxJQUFJLFdBQVcsSUFBSSxXQUFXLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRTtnQkFDekMsZ0hBQWdIO2dC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WUFDekcsVUFBVSxFQUNSLDhFQUE4RTtZQUNoRix5QkFBeUIsRUFDdkIsMkdBQTJHO1lBQzdHLGlCQUFpQixFQUFFOzs7Ozs7Q0FNeEI7WUFDSyxTQUFTLEVBQUUsNENBQTRDO1lBQ3ZELGNBQWMsRUFBRSxPQUFPO1NBQ3hCO1FBQ0Q7WUFDRSx3SkFBd0o7WUFDeEosVUFBVSxFQUNSLG1GQUFtRjtZQUNyRix5QkFBeUIsRUFDdkIseUhBQXlIO1lBQzNILGlCQUFpQixFQUFFLDRRQUE0UTtZQUMvUixTQUFTLEVBQUUsK0NBQStDO1lBQzFELGNBQWMsRUFBRSxPQUFPO1NBQ3hCO1FBQ0Q7WUFDRSxVQUFVLEVBQ1IsMEhBQTBIO1lBQzVILHlCQUF5QixFQUN2QixpRkFBaUY7WUFDbkYsaUJBQWlCLEVBQ2YseUVBQXlFO1lBQzNFLFNBQVMsRUFBRSwrQkFBK0I7WUFDMUMsY0FBYyxFQUFFLE9BQU87U0FDeEI7UUFDRDtZQUNFLHdGQUF3RjtZQUN4RixVQUFVLEVBQUUsSUFBSSxNQUFNLENBQ3BCLDBCQUEwQixJQUFJLENBQUMsaUJBQWlCLDBEQUEwRCxDQUMzRztZQUNELHlCQUF5QixFQUFFLDJDQUEyQztZQUN0RSxpQkFBaUIsRUFDZix5RUFBeUU7WUFDM0UsU0FBUyxFQUFFLCtCQUErQjtZQUMxQyxjQUFjLEVBQUUsT0FBTztTQUN4QjtLQUNGLENBQUM7Q0FDSCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIEFtcGxpZnlFcnJvcixcbiAgQW1wbGlmeUVycm9yQ2xhc3NpZmljYXRpb24sXG4gIEFtcGxpZnlGYXVsdCxcbiAgQW1wbGlmeVVzZXJFcnJvcixcbn0gZnJvbSAnQGF3cy1hbXBsaWZ5L3BsYXRmb3JtLWNvcmUnO1xuaW1wb3J0IHN0cmlwQU5TSSBmcm9tICdzdHJpcC1hbnNpJztcbmltcG9ydCB7IEJhY2tlbmREZXBsb3llck91dHB1dEZvcm1hdHRlciB9IGZyb20gJy4vdHlwZXMuanMnO1xuXG4vKipcbiAqIFRyYW5zZm9ybXMgQ0RLIGVycm9yIG1lc3NhZ2VzIHRvIGh1bWFuIHJlYWRhYmxlIG9uZXNcbiAqL1xuZXhwb3J0IGNsYXNzIENka0Vycm9yTWFwcGVyIHtcbiAgcHJpdmF0ZSBtdWx0aUxpbmVFb2xSZWdleCA9ICdbXFxyXFxuXSsnO1xuICAvKipcbiAgICogSW5zdGFudGlhdGUgd2l0aCBhIGZvcm1hdHRlciB0aGF0IHdpbGwgYmUgdXNlZCBmb3IgZm9ybWF0dGluZyBDTEkgY29tbWFuZHMgaW4gZXJyb3IgbWVzc2FnZXNcbiAgICovXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgZm9ybWF0dGVyOiBCYWNrZW5kRGVwbG95ZXJPdXRwdXRGb3JtYXR0ZXIpIHt9XG5cbiAgZ2V0QW1wbGlmeUVycm9yID0gKFxuICAgIGVycm9yOiBFcnJvclxuICApOiBBbXBsaWZ5RXJyb3I8Q0RLRGVwbG95bWVudEVycm9yIHwgc3RyaW5nPiA9PiB7XG4gICAgbGV0IHVuZGVybHlpbmdFcnJvcjogRXJyb3IgfCB1bmRlZmluZWQgPSBlcnJvcjtcblxuICAgIC8vIENoZWNrIGlmIHRoZXJlIHdhcyBhbiBBbXBsaWZ5IGVycm9yIHRocm93biBkdXJpbmcgY2hpbGQgcHJvY2VzcyBleGVjdXRpb25cbiAgICBjb25zdCBhbXBsaWZ5RXJyb3IgPSBBbXBsaWZ5RXJyb3IuZnJvbVN0ZGVycihlcnJvci5tZXNzYWdlKTtcbiAgICBpZiAoYW1wbGlmeUVycm9yKSB7XG4gICAgICByZXR1cm4gYW1wbGlmeUVycm9yO1xuICAgIH1cblxuICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IHN0cmlwQU5TSShlcnJvci5tZXNzYWdlKTtcbiAg